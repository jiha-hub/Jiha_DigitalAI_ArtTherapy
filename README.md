---
title: MindPalette
emoji: ğŸ›ï¸
colorFrom: indigo
colorTo: indigo
sdk: gradio
sdk_version: 4.41.0
app_file: src/app.py
pinned: false
license: gpl-3.0
short_description: AI-based Non-verbal Emotional Externalization Platform
---

# ğŸ›ï¸ MindPalette (ë§ˆì¸ë“œíŒ”ë ˆíŠ¸)

**"ë‚´ë©´ì˜ ì–¸ì–´ë¥¼ ì‹œê°í™”í•˜ì—¬ ì •ì„œì  ì•ˆì •ê³¼ í†µì°°ì„ ë•ëŠ” AI ì‹¬ë¦¬ ë¶„ì„ ë° ì •ì„œ ë°œì‚° í”Œë«í¼"**

ğŸ”— **GitHub Repository:** [https://github.com/jiha-hub/Jiha_DigitalAI_ArtTherapy](https://github.com/jiha-hub/Jiha_DigitalAI_ArtTherapy)

---

## 1. ğŸ¯ í”„ë¡œì íŠ¸ ì£¼ì œ (Topic)
**AI ê¸°ë°˜ ë¹„ì–¸ì–´ì  ì •ì„œ ì™¸ë¶€í™” í”Œë«í¼ (AI-based Non-verbal Emotional Externalization Platform)**  
ì‚¬ìš©ìì˜ ê°ì •ì„ ì •í˜•í™”ëœ ì–¸ì–´ê°€ ì•„ë‹Œ ììœ ë¡œìš´ ë“œë¡œì‰ê³¼ ìƒ‰ìƒ, ì§ˆê°ìœ¼ë¡œ í‘œí˜„í•˜ë„ë¡ ìœ ë„í•˜ë©°, ìƒì„±í˜• AI(Generative AI)ë¥¼ í†µí•´ ì´ë¥¼ ì˜ˆìˆ  ì‘í’ˆìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë””ì§€í„¸ ë¯¸ìˆ  ì¹˜ë£Œ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

## 2. ğŸ’¡ í”„ë¡œì íŠ¸ ëª©ì  (Purpose)
í˜„ëŒ€ì¸ë“¤ì€ ë³µì¡í•œ ê°ì •ê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ëª…í™•í•œ ì–¸ì–´ë¡œ í‘œí˜„í•˜ëŠ” ë° ì–´ë ¤ì›€ì„ ê²ªìŠµë‹ˆë‹¤. **MindPalette**ëŠ” ì‚¬ìš©ìê°€ ê±°ì¹ ê²Œ ê·¸ë¦° ìŠ¤ì¼€ì¹˜ì™€ ê°ì • í‚¤ì›Œë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ AIê°€ í•œ í­ì˜ ì˜ˆìˆ  ì‘í’ˆìœ¼ë¡œ íƒ„ìƒì‹œì¼œì£¼ëŠ” **ë¹„ì–¸ì–´ì  ì •ì„œ í‘œí˜„ ë„êµ¬**ì…ë‹ˆë‹¤.

ì´ ê³¼ì •ì—ì„œ êµ¬ì²´ì ì¸ ì¸ë¬¼(ìí™”ìƒ) ë¬˜ì‚¬ë¥¼ ë°°ì œí•˜ê³  ì§ˆê°ê³¼ ìƒ‰ì±„ ìŠ¤í™íŠ¸ëŸ¼ì— ì§‘ì¤‘í•˜ê²Œ í•˜ì—¬, ì‚¬ìš©ì ìŠ¤ìŠ¤ë¡œ ìì‹ ì˜ ê°ì •ì„ í•œ ë°œì§ ë–¨ì–´ì ¸ ê´€ì¡°(Objectification)í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì–µëˆŒë¦° ê°ì •ì˜ ì •í™”(Catharsis)ì™€ ì‹¬ë¦¬ì  ì•ˆì •ê°ì„ ì œê³µí•˜ëŠ” ê²ƒì´ ì£¼ëœ ëª©ì ì…ë‹ˆë‹¤.

## 3. ğŸ‘¥ ì£¼ìš” ëŒ€ìƒ (Target Audience)
* **ì‹¬ë¦¬ì  ìœ„ì•ˆì´ í•„ìš”í•œ ì¼ë°˜ì¸:** ë³µì¡í•œ ê°ì •ì„ ê¸€ì´ë‚˜ ë§ë¡œ ëª…í™•í•˜ê²Œ í‘œí˜„í•˜ê¸° í˜ë“  ë¶„.
* **ë¯¸ìˆ  ì¹˜ë£Œì‚¬ ë° ì‹¬ë¦¬ ìƒë‹´ì‚¬:** ë‚´ë‹´ìì˜ ì–µì••ëœ ë¬´ì˜ì‹ì  ê°ì •ì„ ì‹œê°í™”í•˜ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¬ë„ ìˆëŠ” ëŒ€í™”ë¥¼ ëŒì–´ë‚´ëŠ” ë³´ì¡° ë„êµ¬ë¡œ í™œìš©í•˜ê³ ì í•˜ëŠ” ì „ë¬¸ê°€.
* **ì˜ˆìˆ ì  ì˜ê°ì´ í•„ìš”í•œ í¬ë¦¬ì—ì´í„°:** ê°„ë‹¨í•œ ìŠ¤ì¼€ì¹˜ë‚˜ ê°ì • í‚¤ì›Œë“œë§Œìœ¼ë¡œ ê³ í’ˆì§ˆì˜ ì¶”ìƒì , ë¬´ë“œ ì¤‘ì‹¬ ì•„íŠ¸ì›Œí¬ë¥¼ ë§Œë“¤ê³  ì‹¶ì€ ë¶„.

## 4. ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)
* **Language:** Python 3.10+
* **Framework & UI:** Gradio 4.0+
* **AI & Deep Learning:** PyTorch, Hugging Face `diffusers`, `transformers`
* **Core Models (Image Generation/Modification):**
  * **SDXL Base 1.0 + T2I-Adapter (Sketch):** ì‚¬ìš©ìì˜ í‘ë°± ìŠ¤ì¼€ì¹˜ ì„ ì„ ê¸°ë°˜ìœ¼ë¡œ ì´ë¯¸ì§€ ìƒì„±ì˜ ì¡°ê±´(Conditioning)ì„ ë¶€ì—¬í•˜ì—¬ ê³ í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
  * **Kandinsky 2.2 Inpainting:** ìƒì„±ëœ ì´ë¯¸ì§€ ì¤‘ íŠ¹ì • ì˜ì—­(ë§ˆìŠ¤í‚¹ëœ ì˜ì—­)ë§Œì„ êµ­ì†Œì ìœ¼ë¡œ ìˆ˜ì • ë° ë‹¤ë“¬ì–´ ê°ì • í‘œí˜„ì„ ì„¸ë°€í•˜ê²Œ ì¡°ì •í•©ë‹ˆë‹¤.
  * **Therapeutic LoRA Styles:** ê°ì • í‘œí˜„ì„ ë³´ì¡°í•˜ëŠ” ë§ì¶¤í˜• í™”í’(ìˆ˜ì±„í™”, ì˜¤ì¼ íŒŒìŠ¤í…”, ë¨¹ë¬¼í™” ë“±) ê°€ì¤‘ì¹˜ë¥¼ ë™ì ìœ¼ë¡œ ì ìš©í•©ë‹ˆë‹¤.
* **Edge Detection:** PidiNet (`controlnet_aux`ë¥¼ í†µí•œ ì‚¬ìš©ì ìŠ¤ì¼€ì¹˜ì—ì„œì˜ ìœ¤ê³½ì„  ì¶”ì¶œ)
* **Platform & Deployment:** Hugging Face Spaces (GPU í™˜ê²½ ìµœì í™”)

## 5. ğŸ“‚ ì½”ë“œ êµ¬ì¡° (Code Structure)
ë°°í¬ ë° ì‹¤í–‰ì— í•„ìš”í•œ í•µì‹¬ ë””ë ‰í† ë¦¬ ë° íŒŒì¼ êµ¬ì¡°ì…ë‹ˆë‹¤. Hugging Face Spaces ì—°ë™ ë° ì‹¤í–‰ ì‹œ ì•„ë˜ íŒŒì¼ë“¤ì´ ëª¨ë‘ ì‚¬ìš©ë©ë‹ˆë‹¤.

```text
ğŸ“¦ Jiha_DigitalAI_ArtTherapy (GitHub Repository)
 â”£ ğŸ“‚ src
 â”ƒ  â”£ ğŸ“œ app.py               # Gradio UI(ê°¤ëŸ¬ë¦¬, ìº”ë²„ìŠ¤ ë“±) êµ¬ì„± ë° í”„ë¡ íŠ¸/ë°±ì—”ë“œ ë¸Œë¦¿ì§€ íŒŒì´í”„ë¼ì¸
 â”ƒ  â”£ ğŸ“œ model_engine.py      # AI ëª¨ë¸ ë¡œë“œ, ì´ë¯¸ì§€ ìƒì„±(SDXL) ë° ì¸í˜ì¸íŒ…(Kandinsky) í•µì‹¬ ë¡œì§
 â”ƒ  â”— ğŸ“œ utils.py             # ì´ë¯¸ì§€ ì €ì¥(Gallery Log ê´€ë¦¬) ë° ê¸°íƒ€ ì‹œìŠ¤í…œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
 â”£ ğŸ“œ requirements.txt        # ì˜ì¡´ì„± íŒ¨í‚¤ì§€ (Hugging Face / Local í™˜ê²½ êµ¬ì„±ìš© í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡)
 â”— ğŸ“œ README.md               # í”„ë¡œì íŠ¸ ì†Œê°œ ë° ë°°í¬ ê°€ì´ë“œ (í˜„ì¬ íŒŒì¼)
```

## 6. ğŸ’» í•µì‹¬ ì½”ë“œ ì„¤ëª… (Core Code)

### (1) ìŠ¤ì¼€ì¹˜ ê¸°ë°˜ ì´ë¯¸ì§€ ìƒì„± (T2I-Adapter + SDXL) - `model_engine.py`
ì‚¬ìš©ìê°€ ê·¸ë¦° ìŠ¤ì¼€ì¹˜ë¥¼ PidiNetìœ¼ë¡œ ê¹Šì´ ìˆê²Œ ë¶„ì„í•˜ì—¬ ìœ¤ê³½ì„ (Edge Map)ì„ ì¶”ì¶œí•œ ë’¤, T2I-Adapterë¥¼ í†µí•´ SDXL ìƒì„± ëª¨ë¸ì˜ ì¡°ê±´(Conditioning)ìœ¼ë¡œ ì…ë ¥í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì„ íƒí•œ ì¹˜ìœ ì  í™”í’(LoRA) ê°€ì¤‘ì¹˜ë¥¼ ë™ì ìœ¼ë¡œ ë¡œë“œ ë° ìœµí•©(Fusing)í•˜ì—¬ ìµœì¢… ê²°ê³¼ë¬¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

```python
def generate_image(self, sketch_image, prompt, negative_prompt="", num_steps=30, guidance_scale=7.5, adapter_scale=0.9, seed=42, style_name="ê¸°ë³¸ (Standard)"):
    # 1. PidiNetìœ¼ë¡œ ì—£ì§€(Edge) ë§µ ì¶”ì¶œ
    edge_map = self.pidinet(
        sketch_image, detect_resolution=1024, image_resolution=1024, apply_filter=True
    )

    # 2. SDXL íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ìƒì„± (Adapter ì ìš©)
    image = self.pipeline(
        prompt=prompt,
        negative_prompt=negative_prompt,
        image=edge_map,
        num_inference_steps=num_steps,
        adapter_conditioning_scale=adapter_scale,
        guidance_scale=guidance_scale,
        generator=torch.Generator(device=self.device).manual_seed(seed)
    ).images[0]

    return image, edge_map
```

### (2) íŠ¹ì • ê°ì • ì˜ì—­ ë¶€ë¶„ ìˆ˜ì • (Inpainting) - `model_engine.py`
ìƒì„±ëœ ì‘í’ˆì—ì„œ ì‚¬ìš©ìê°€ ì›í•˜ì§€ ì•ŠëŠ” ìš”ì†Œë‚˜ íŠ¹ì • ê°ì •ì„ ë¹„ì›Œë‚´ê¸° ìœ„í•´, ì‚¬ìš©ìê°€ ë¸ŒëŸ¬ì‹œë¡œ ì§ì ‘ ì¹ í•œ ë§ˆìŠ¤í‚¹ ì˜ì—­ë§Œ Kandinsky 2.2 Inpainting ëª¨ë¸ì„ í†µí•´ ìì—°ìŠ¤ëŸ½ê²Œ ì¬ìƒì„±í•©ë‹ˆë‹¤.

```python
def inpaint_image(self, image, mask_image, prompt, negative_prompt="", strength=0.75, guidance_scale=7.5, seed=42):
    # Kandinsky Inpainting íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
    output = self.inpainting_pipeline(
        prompt=prompt,
        negative_prompt=negative_prompt,
        image=image,            # ì›ë³¸ ë³´ì¡´ ì´ë¯¸ì§€
        mask_image=mask_image,  # ìˆ˜ì •í•  ì˜ì—­ ë§ˆìŠ¤í¬
        strength=strength,      # ì›ë³¸ ìœ ì§€ ê°•ë„
        guidance_scale=guidance_scale,
        generator=torch.Generator(device=self.device).manual_seed(seed)
    ).images[0]

    return output
```

### (3) í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ ë° ë§¤ê°œë³€ìˆ˜ ì¡°í•© - `app.py`
ì‚¬ìš©ìê°€ ì½¤ë³´ë°•ìŠ¤ì—ì„œ ì§ê´€ì ìœ¼ë¡œ ì„ íƒí•œ ë§¤ì²´(ìœ í™”, ìˆ˜ì±„í™”), ì£¼ìš” ì†Œì¬(ë¹„êµ¬ìƒ), ê°ì • ë¬´ë“œ(ì°¨ë¶„í•œ, ìš°ìš¸í•œ) ë° ì¡°ëª…ì„ ì¡°í•©í•˜ì—¬, AIê°€ ê°€ì¥ ì˜ ì´í•´í•  ìˆ˜ ìˆëŠ” ìµœì í™”ëœ ì˜ë¬¸ í”„ë¡¬í”„íŠ¸ë¡œ ë³€í™˜ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```python
def build_prompt(media, subject, mood, style, custom_prompt):
    base = []
    if media: base.append(PROMPT_OPTIONS["ë§¤ì²´"].get(media, ""))
    if subject: base.append(PROMPT_OPTIONS["ì£¼ìš”_ì†Œì¬"].get(subject, ""))
    if mood: base.append(PROMPT_OPTIONS["ê°ì •_ë¬´ë“œ"].get(mood, ""))
    if style: base.append(PROMPT_OPTIONS["ìŠ¤íƒ€ì¼"].get(style, ""))
    
    prompt_str = ", ".join([b for b in base if b])
    if custom_prompt:
        prompt_str += f", {custom_prompt}"
        
    prompt_str += ", high quality, masterpiece, expressive art therapy"
    return prompt_str
```

---

## ğŸš€ ë°°í¬ ë° ì‹¤í–‰ ê°€ì´ë“œ (Hugging Face Spaces ì—°ë™)

ì´ ì €ì¥ì†Œë¥¼ **Hugging Face Spaces (Gradio)** ì— ì—°ë™í•˜ì—¬ í˜¸ìŠ¤íŒ…í•˜ë ¤ë©´, í—ˆê¹…í˜ì´ìŠ¤ í™˜ê²½ êµ¬ì¶•ì— í•„ìš”í•œ ëª¨ë“  íŒŒì¼ì´ ì¤€ë¹„ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì´ Repositoryì—ëŠ” ë°°í¬ì— í•„ìš”í•œ ëª¨ë“  ì„¤ì • íŒŒì¼ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

**Hugging Face Spaces ë°°í¬ í•„ìˆ˜ íŒŒì¼:**
1. `src/app.py` (Gradio ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì . `README.md` ìƒë‹¨ ë©”íƒ€ë°ì´í„°ì˜ `app_file` ì˜µì…˜ìœ¼ë¡œ ê²½ë¡œê°€ ì§€ì •ë¨)
2. `src/model_engine.py` (AI ëª¨ë¸ ì¶”ë¡  ë¡œì§)
3. `src/utils.py` (ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜)
4. `requirements.txt` (`diffusers`, `transformers`, `gradio` ë“± Hugging Face ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ìë™ìœ¼ë¡œ `pip install` ë˜ëŠ” í•„ìˆ˜ íŒ¨í‚¤ì§€ ëª…ì„¸ì„œ)
5. `README.md` (Hugging Face Spacesê°€ ì½ì–´ë“¤ì´ëŠ” í™˜ê²½ì„¤ì • ë©”íƒ€ë°ì´í„° í—¤ë” í¬í•¨ íŒŒì¼)

> **[ ë°°í¬ ë°©ë²• ]**  
> Hugging Faceì—ì„œ ìƒˆ `Gradio` Spaceë¥¼ ìƒì„±í•˜ê³ , í•´ë‹¹ Spaceë¥¼ ì´ GitHub Repository(`https://github.com/jiha-hub/Jiha_DigitalAI_ArtTherapy`)ì™€ ì—°ë™(Connect)ë§Œ í•˜ë©´ ë¹Œë“œê°€ ìë™ìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤.

**ë¡œì»¬ í™˜ê²½ì—ì„œ ê°œë°œ ë° í…ŒìŠ¤íŠ¸ ì‹œ:**
```bash
# 1. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™” (ì„ íƒ ì‚¬í•­)
python -m venv .venv
source .venv/bin/activate  # Windows ì»¤ë§¨ë“œ: .venv\Scripts\activate

# 2. í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
pip install -r requirements.txt

# 3. ë¡œì»¬ ì„œë²„ ì‹¤í–‰
python src/app.py
```
